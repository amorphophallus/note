# Probability Theory

## Events and Probabilities

1. definitions
    - frequency: $F_N(A)=\frac{n}{N}$
    - probability: $$P(A) = \lim_{N\to +\infty} F_{N}(A)$$
    - sample point: $\omega$ an event that can't be decomposed into some combination of other events. 
    - sample space: $\Omega$ The set of all sample points.
    - event: $A, B, C...$ a certain subset of the sample space.
    - probability space $(\Omega,\mathcal{F}, P)$:
        - sample space: $\Omega$
        - $\sigma$-algebra : $\mathcal{F}$，概率函数的定义域，即样本空间中需要关注的部分
        - probability: $P$
2. models
    - classical probability models: finite sample space & equal possibility
    - geometric probability models: 先确定横纵坐标，再画图求面积
3. properties
    - events: 运算符和性质和集合完全一致
    - $\sigma$-algebra:
        - A sample space may have many $\sigma$-algebra
        - The simplest $\sigma$-algebra: $\{\empty,\Omega\}$
        - Only focus on event $A$: $\{\empty, A, \overline{A}, \Omega\}$
        - Only focus on a subset $\zeta \subset \Omega$: 所有包含 $\zeta$ 的 $\sigma$-algebra 的交集
        - For finite or countable sample space : 取 $\sigma$-algebra 为全集的所有子集
        - For $\R^n$ ：$\mathfrak{B}^n$ , i.e. n-dimension Borel $\sigma$-algebra
        - 对于其他不可列的样本空间，$\sigma$-algebra 的构造需要其他方法
    - Probability:
        - countable additivity: for mutually disjoint sets $$P(\sum_{i=1}^{+\infty}A_i) = \sum_{i=1}^{+\infty}P(A_i)$$
        - continuity: 事件的极限 + 概率的极限 $$A_i\subset A_{i+1},A=\cup_{i=1}^{+\infty}A_i,then \lim_{n\to +\infty}P(A_n)=P(\lim_{n\to +\infty}A_n)=P(A).$$
4. Conditional Probability & Independence
    - definition of conditional probability: The probability that event A occurs provided that event B has occurred $$P(A|B)=\frac{P(AB)}{P(B)}$$
    - properties:
        - 链式法则：$$P(A_1A_2...A_n)=P(A_1)\cdot P(A_2|A_1)\cdot P(A_3|A_1A_2)\cdot...\cdot P(A_n|A_1A_2...A_{n-1}).$$
        - 贝叶斯公式
        - 全概率公式
    - independence
        - 2 events: $$P(A|B)=P(A), P(AB)=P(A)P(B)$$
        - 2 $\sigma$-algebras: $P(A),P(B)$ independent $\iff$ $\mathcal{F}_1=\{A,\overline{A}, \phi, \Omega \}$, $\mathcal{F}_2=\{B,\overline{B}, \phi, \Omega \}$ independent
        - several events: 任意 k 个事件满足 $$P(A_{i_1}A_{i_2}...A_{i_k})=P(A_{i_1})P(A_{i_2})...P(A_{i_k}).$$
            - 两两独立和相互独立概念辨析：相互独立可以理解为对于任何事件，除自身外的所有事件的事件组合和自身相互独立，即 $$P(A_i|(A_1, ..., A_n))=P(A_i)P((A_1, ..., A_n))$$
        - independence of compound experiments(compound sample space):

## Random Variables and Distribution Functions

1. random variable
    1. definition:
    2. classification:
        1. discrete random variable
        2. continuous random variable
            - typical continuous random variables:
                1. normal distribution
    3. distribution function
        - definition: $F(x)=P(\epsilon \leq x),-\infty<x<+\infty$
        - properties：
    4. density function (of continuous random variable)
        - definition: $F(x)=\int_{-\infty}^xp(t)dt$
        - properties: $p(x)=\frac{dF}{dx}(x)$
2. 2-dimension random vector
    1. definition:
    2. classification:
        1. discrete random vector
        2. continuous random vector
            - typical continuous random variables:
                1. normal distribution
    3. joint distribution function
        - definition:
        - 性质：
    4. joint density function (of continuous random variable)
    5. conditional distribution
    6. independence
3. n-dimension random vector
    1. definition:
    2. classification:
        1. discrete random vector
        2. continuous random vector
            - typical continuous random variables:
                1. normal distribution
    3. joint distribution function
        - definition:
        - 性质：
    4. joint density function (of continuous random variable)
    5. conditional distribution
    6. independence
4. functions of random variables/vectors
    - addition & subtraction
        1. 计算方法
            - step 1: 确定结果是什么类型的随机变量
            - step 2: 确定结果的 sample space
            - step 3-1: discrete random variable
                -  已知
            - step 3-2: continuous random variable
                - 已知 $(X,Y)$ 具有密度函数 $p(x,y)$，求 $Z=X+Y$
                - 先求分布函数 
                    $$
                    \begin{aligned}
                    F_Z(z)&=P(X+Y\leq z)\\
                    &={\int\int}_{x+y\leq z} p(x,y)dxdy\\
                    &=\int_{-\infty}^{+\infty}dx\int_{-\infty}^{z-x}p(x,y)dy\\
                    &=\int_{-\infty}^{+\infty}dx\int_{-\infty}^{z}p(x,y-x)dy\\
                    &=\int_{-\infty}^{z}dy\int_{-\infty}^{+\infty}p(x,y-x)dx
                    \end{aligned}
                    $$
                - 求密度函数
                    $$
                    \begin{aligned}
                    p_Z(z)&=\frac{dF_Z}{dz}(z)\\
                    &=\int_{-\infty}^{+\infty}p(x,z-x)dx
                    \end{aligned}
                    $$
                - $X,Y$ 相互独立时
                    $$
                    \begin{aligned}
                    p_Z(z)=\int_{-\infty}^{+\infty}p_X(x)p_Y(z-x)dx
                    \end{aligned}
                    $$
        2. 举例
            - 相互独立的 Bernoulli Distribution 相加
            - 相互独立的 Poisson Distribution 相加
            - 相互独立的 Uniform Distribution 相加
            - 相互独立的 Exponential Distribution 相加：$\Gamma$ 分布
            - 相互独立的 Normal Distribution 相加
    - multiplication & division
        1. 计算方法：
            - step 3-1: discrete random variable
            - step 3-2: continnuous random variable
                - 分布函数
                    $$
                    \begin{aligned}
                    F_Z(z)&=P(XY\leq z)\\
                    &={\int\int}_{xy\leq z}p(x,y)dxdy\\
                    &=\int_{-\infty}^{0}dx\int_{-\frac{z}{x}}^{0}p(x,y)dy+\int_{0}^{+\infty}dx\int_{0}^{\frac{z}{x}}p(x,y)dy\\
                    &=\int_{-\infty}^{0}dx\int_{-z}^{0}p(x,\frac{y}{x})\frac{1}{x}dy+\int_{0}^{+\infty}dx\int_{0}^{z}p(x,\frac{y}{x})\frac{1}{x}dy\\
                    \end{aligned}
                    $$
        2. 举例：
            - 相互独立的 Normal Distribution 相除：Cauchy 分布
    - transformation
    - extremum

## Numerical Characteristic

1. 期望
2. 方差
3. 

离散期望公式 $$\sum_{k=0}^{+\infty}kx^k=\frac{x}{1-x}, |x|<1$$

$$\\sum_{i=0}^n i^2=\frac{k(k+1)(2k+1)}{6}$$